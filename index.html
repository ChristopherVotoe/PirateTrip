<!DOCTYPE html>
<html>

<head>
  <title>Example of the Authorization Code with PKCE flow with Spotify</title>
  <link rel="stylesheet">
</head>

<body>

  <div id="main"></div>
  <div id="oauth"></div>

  <template id="login">
    
    <button id="login-button" data-bind-onclick="loginWithSpotifyClick();"
    style="background-color: #1DB954; color: white; border: none; padding: 12px 24px; border-radius: 50px; font-size: 16px; font-weight: bold; font-family: 'Helvetica Neue', Arial, sans-serif; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; transition: background-color 0.3s ease; position: absolute; bottom: 250px; left: 50%; transform: translateX(-50%);">
     Log in with Spotify </button>
  </template>
  <style>
    body {
      background-image: url('/uiboattrip/assets/loginassets/loginmap.png'); /* Replace with the path to your PNG */
        background-size: cover; /* Cover the entire page */
        background-position: center center; /* Center the image */
        background-repeat: no-repeat; /* Prevent repeating */
        height: 100vh; /* Set height to full viewport */
        margin: 0; /* Remove default margins */
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        font-family: 'Helvetica Neue', Arial, sans-serif;
    }
  </style>

  <template id="logged-in-template">
    <h1>Logged in as <span data-bind="display_name"></span></h1>
    <img width="150" data-bind-src="images[0].url" data-bind-alt="display_name" />
    <table>
      <tr>
        <td>Display name</td>
        <td data-bind="display_name"></td>
      </tr>
      <tr>
        <td>Id</td>
        <td data-bind="id"></td>
      </tr>
      <tr>
        <td>Email</td>
        <td data-bind="email"></td>
      </tr>
      <tr>
        <td>Spotify URI</td>
        <td>
          <a data-bind="external_urls.spotify" data-bind-href="external_urls.spotify"></a>
        </td>
      </tr>
      <tr>
        <td>Link </dt>
        <td>
          <a data-bind="href" data-bind-href="href"></a>
        </td>
      </tr>
      <tr>
        <td>Profile Image</td>
        <td>
          <a data-bind-href="images[0].url" data-bind="images[0].url"></a>
        </td>
      </tr>
      <tr>
        <td>Country</td>
        <td data-bind="country"></td>
      </tr>
    </table>

    <button id="refresh-token-button" data-bind-onclick="refreshTokenClick();">Refresh Token</button>
    <button id="logout-button" data-bind-onclick="logoutClick();">Log out</button>
  </template>

  <template id="oauth-template">
    <h2>oAuth info</h2>
    <table>
      <tr>
        <td>Access token</td>
        <td data-bind="access_token"></td>
      </tr>
      <tr>
        <td>Refresh token</td>
        <td data-bind="refresh_token"></td>
      </tr>
      <tr>
        <td>Expiration at</td>
        <td data-bind="expires">${getExpirationDate(expires_in)}</td>
      </tr>
    </table>
  </template>

  <script src="app.js" type="module"></script>
</body>

</html>